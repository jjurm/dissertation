% Computer Science Tripos Part II project dissertation
\documentclass[12pt,a4paper,twoside,openany]{report}
\usepackage{fontspec}
\usepackage[
    backend=biber,
    natbib=true,
    style=ieee,
    url=false,
    doi=true
%eprint=false
]{biblatex}
\usepackage[pdfborder={0 0 0}]{hyperref}    % turns references into hyperlinks
\usepackage[margin=25mm]{geometry}  % adjusts page layout
\usepackage{graphicx}  % allows inclusion of PDF, PNG and JPG images
\usepackage{verbatim}
\usepackage{docmute}   % only needed to allow inclusion of proposal.tex
\usepackage{fancyvrb}
\usepackage[font=footnotesize,labelfont=bf]{caption}
\PassOptionsToPackage{obeyspaces}{url}
\usepackage{float}
\usepackage{enumitem}
\usepackage{changepage}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{csquotes}
\usepackage[
%nottoc,
    notlot,
    notlof
]{tocbibind}
\usepackage{amsfonts}
\usepackage{mathtools}
\usepackage[dvipsnames]{xcolor}
\usepackage{cleveref}
\usepackage{tikz}
\usepackage{tabto}
\usepackage{xspace}
\usepackage{relsize}
\usepackage{bm}
\usepackage{bookmark}
\usepackage{listings}
\usepackage{fontawesome}
\usepackage{footnotehyper}
\usepackage{bashful}
\usepackage{dirtree}
\usepackage{pifont}
\usepackage{wrapfig}
\usepackage{graphbox}
\usepackage{tablefootnote}
%! Suppress = MultipleIncludes
\usepackage{afterpage}
\usepackage{hyphenat}
\usepackage{ragged2e}
\usepackage{array}
\usepackage{titlesec}
\usepackage{booktabs}
\usepackage{epigraph}

\usetikzlibrary{shadows.blur}

\addbibresource{refs.bib}

\newfontfamily\jbmono{JetBrainsMono}[
    Path = fonts/JetBrainsMono-1.0.3/ttf/,
    Extension = .ttf,
    NFSSFamily = jbmono,
    UprightFont = *-Regular,
    BoldFont = *-Bold,
    ItalicFont = *-Italic,
    BoldItalicFont = *-Bold-Italic,
    FontFace = {sb}{n}{*-Medium},
    FontFace = {sb}{it}{*-Medium-Italic},
    FontFace = {eb}{n}{*-ExtraBold},
    FontFace = {eb}{it}{*-ExtraBold-Italic},
    Scale = 0.87,
]
\renewcommand{\ttdefault}{jbmono}


%\makeatletter
%\g@addto@macro{\UrlBreaks}{\UrlOrds}
%\makeatother

%LC_NUMERIC="en_GB.UTF-8"
%printf "%'d" "$(texcount -1 -merge -utf8 -sum main.tex | tr -d '\n')"
\newcommand{\wordcountScript}{texcount -1 -merge -q -utf8 -sum main.tex}


%\pdfsuppresswarningpagegroup=1

\raggedbottom                           % try to avoid widows and orphans
\sloppy
\clubpenalty1000%
\widowpenalty1000%

\renewcommand{\baselinestretch}{1.1}    % adjust line spacing to make more readable
\setlength{\parskip}{3pt plus1pt minus1pt}
\titlespacing{\paragraph}{%
    \parindent}{%              left margin
    0pt}{% space before (vertical)
    1em}%               space after (horizontal)

%https://tex.stackexchange.com/questions/39017/how-to-influence-the-position-of-float-environments-like-figure-and-table-in-lat
\renewcommand{\floatpagefraction}{.8}%

% Better footnote handling
\newcounter{footnoteInText}
\newcounter{footnoteInNote}
\newcommand{\fnmark}{\stepcounter{footnoteInText}\setcounter{footnote}{\value{footnoteInText}}\addtocounter{footnote}{-1}\footnotemark{}}
\newcommand{\fntext}[1]{\stepcounter{footnoteInNote}\setcounter{footnote}{\value{footnoteInNote}}\footnotetext{#1}}

\setcounter{tocdepth}{3}
\setcounter{secnumdepth}{4}
\graphicspath{{figures/}{figures_gen/}{images/}}
\allowdisplaybreaks


\include{commands}

\begin{document}

    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % Title

    \pagestyle{empty}

    \begin{center}
        \LARGE \textbf{Juraj Mi\v{c}ko}
    \end{center}

    \vspace*{60mm}
    \begin{center}
        \Huge
        \textbf{Framework for empirical analysis of graph metric robustness} \\[5mm]
        Computer Science Tripos -- Part II \\[5mm]
        Jesus College \\[5mm]
        \today  % today's date
    \end{center}

    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % Proforma, table of contents and list of figures

    \pagestyle{plain}

    \chapter*{Proforma}

    {\large
        \begin{tabular}{ll}
            Name: & \textbf{Juraj Mi\v{c}ko}                            \\
            College: & \textbf{Jesus College}                                        \\
            Project Title: & \textbf{Framework for empirical analysis} \\ & \textbf{of graph metric robustness}                    \\
            Examination: & \textbf{Computer Science Tripos -- Part II Project},
            \\ & \textbf{June 2020}        \\
            Word Count: & \textbf{\splice{\wordcountScript}\footnotemark{}}                                    \\
            Project Originator: & Dr Timothy Griffin                                \\
            Supervisor: & Dr Timothy Griffin                                        \\
        \end{tabular}
    }
    \footnotetext{This word count was computed using \texttt{\wordcountScript}}

    \section*{Original aims of the project}



    \section*{Work completed}

    \todo{include courses this project was based on}

    \newpage

    \section*{Special difficulties}



    \section*{Declaration of originality}

    I, Juraj Mi\v{c}ko of Jesus College, being a candidate for Part II of the Computer Science Tripos, hereby declare that this dissertation and the work described in it are my own work, unaided except as may be specified below, and that the dissertation does not contain material that has already been used to any substantial extent for a comparable purpose.

    \bigskip
    \leftline{Signed: \textit{Juraj Mi\v{c}ko}}

    \medskip
    \leftline{Date: \today}

    \tableofcontents

    \listoffigures

    \listoftables

    \lstlistoflistings

    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % now for the chapters

    \pagestyle{headings}


%    \chapter*{[Work in progress]}
%    \addcontentsline{toc}{chapter}{[Work in progress]}
%    \input{content/0work-in-progress.tex}


    \chapter{Introduction}\label{ch:introduction}
    \input{content/1introduction.tex}


    \chapter{Preparation}\label{ch:preparation}
    \input{content/2preparation.tex}


    \chapter{Implementation}\label{ch:implementation}
    \input{content/3implementation.tex}


    \chapter{Evaluation}\label{ch:evaluation}
    \input{content/4evaluation.tex}


    \chapter{Conclusion}\label{ch:conclusion}
    \input{content/5conclusion.tex}

%    \input{content/0scratch.tex}


    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % the bibliography
    %\addcontentsline{toc}{chapter}{Bibliography}
    %\bibliographystyle{ieeetr}
    %\bibliography{refs}
    \printbibliography[heading=bibintoc]

    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % the appendices
    \appendix


    \chapter{Project Proposal}\label{ch:proposal}
    \input{proposal.tex}

\end{document}
