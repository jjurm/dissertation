\section{Introduction to confidence}

Statistical significance, confidence scores, confidence intervals, error ranges, all are used to signal or approximate the extent to which the observed result is reliable.
Some of the confidence values are a direct probability that an error is made, given the available evidence, such as a statistical significance when rejecting a null hypothesis, or confidence intervals.
Other error values such as error ranges or standard deviations estimate how much off a numerical value may be.
These error measures are all important to state and assess how precise or confident an experiment or an observation is.

A research result without assessing its precision or confidence can be considered incomplete.
We need the assessment of possible error to derive any further guidance from the research.

However, can we measure the precision, or the confidence or graph metrics?
If research is based on evaluating metrics on graphs which are themselves imprecise or having possible errors in the structure, how can we assess the confidence or precision of such result?


\section{The Paper}

This project is based on, and extending the ideas from the paper by Bozhilova et al.: \textsl{Measuring rank robustness in scored protein interaction networks}\cite{Bozhilova2019}.
From now on, I will refer to it as \textsl{The Paper}.

Protein networks is a large research field with a plethora of uses, and investigating them is important for the future of bioinformatics~\todo{examples + citations}.

Most graph datasets obtained from the real-world, including protein interaction networks (PINs), are a result of experiments or observations which possibly introduce measurement errors, either systematic or random errors.

Also, protein networks have a specific structure: nodes represent proteins and weighted (or scored) edges represent the presence of interactions between proteins.
It is assumed that such interactions are mutual, therefore the formed graph is undirected.
The weight of each edge represents a confidence score which may be a value, or a set of values, describing some sort of \textsl{likelihood} that the given interaction is true, given the available evidence.
They do \textsl{not} indicate the strength or intensity of the interaction (which would be a different property, usually not observed in such protein networks).

For example, in the STRING database of protein networks used in The Paper, the main interaction score is an approximated \textbf{confidence} based on evidence such as scientific experiments, genetic observations (gene fusions, gene cooccurence), statistical predictions, text mining of scientific articles, or existing knowledge (other available protein interaction databases)~\cite{Szklarczyk2019}.
The database then contains score values for each type of evidence, as well as a combined overall confidence score.
The Paper, as well as my dissertation, use only the combined confidence score and do not focus on the biological details of each evidence type.

When researching protein interactions, researchers usually choose a \textbf{threshold} and then form a protein interaction network from the database considering only interactions (edges) whose confidence score is greater than the selected threshold, to only take into account interactions of sufficiently high quality.

However, as The Paper notes, this type of analysis can be sensitive to the choice of the threshold.
If a node metric is to be useful for extracting biological signal, it should lead to similar results across networks obtained at different reasonable confidence score thresholds.

It is clear that numerical values of node metrics will depend on such threshold, for example the degree and the clustering coefficient of each node will indeed monotonically decline with declining density of the network, which monotonically declines as we increase the confidence threshold.
For this reason, the point of The Paper is to assess a robustness of graph metrics based on the rankings of nodes induced by each metric (where ranking is just a total preorder of the nodes based on the metric values).

The Paper introduces three different measures assessing robustness of node metrics (all will be explained later): rank continuity, rank identifiability, and rank instability.
All three measures are based on rankings of nodes induced by node metrics, and not on the numerical values, to mitigate the density bias described above.

While graph metrics are any functions of graphs, node metrics are more specifically functions of graphs that return one numerical value per each node.
The Paper focuses on node metrics only.


\section{Problem background}

In this chapter I review background material on graph theory and examining graph metric robustness, and fix terms I will use later to avoid ambiguity in further chapters.

In particular, this chapter will discuss mainly the following, in the theoretical framework:
\begin{itemize}
    \item collecting source datasets
    \item generating distorted graphs
    \item common graph metrics that can evaluated on graphs
    \item ways to quantify robustness of metrics
\end{itemize}

\subsection{Graphs}

Graphs (or networks) from graph theory usually consist of \textit{components} (or nodes, vertices) and \textit{links} between them (edges).
Some of the definitions in this subsection are based on the book \textsl{A first course in network theory}\cite{Estrada2017}.

\begin{definition}[Graph]
    Let $V$ be a finite set of $n$ nodes (or vertices), and let $E \subseteq V \times V$ be a set of edges.\\
    A \textbf{graph} $G$ is a pair $(V, E)$, also called a \textbf{network}.\\
    $V$ is the \textbf{node set} of $G$, and $E$ is the \textbf{edge set} of $G$.
\end{definition}

\noindent
I also define the following graph

\begin{definition}[Graph properties]
    \begin{itemize}[leftmargin=*]
        \item $G$ is \textbf{reflexive} iff $\forall v \in V.\ (v, v) \in E$
        \item $G$ is \textbf{anti-reflexive} iff $\forall v \in V.\ (v, v) \notin E$
        \item $G$ is \textbf{undirected} (or \textbf{symmetric}) iff $\forall v_1, v_2 \in V.\ (v_1, v_2) \in E \Leftrightarrow (v_2, v_1) \in E$
        \item $G$ is \textbf{directed} iff it is not undirected
        \item $G$ is a \textbf{simple graph} iff it is anti-reflexive and undirected
    \end{itemize}
\end{definition}

\begin{definition}[Relations on graphs]
    \begin{itemize}[leftmargin=*]
        \item $G' = (V', E')$ is a \textbf{subgraph} of $G = (V, E)$ iff $V' \subseteq V$ and $E' \subseteq E$
        \item Let $G_1 = (V_1, E_1)$ and $G_2 = (v_2, E_2)$, then $G_1 \cup G_2 = (V_1 \cup V_2, E_1 \cup E_2)$ is the \textbf{union} of the two graphs, and $G_1 \cap G_2 = (V_1 {\cap} V_2, E_1 {\cap} E_2)$ is the \textbf{intersection} of the two graphs.
    \end{itemize}
\end{definition}

\begin{definition}[Node adjacency]
    \begin{itemize}[leftmargin=*]
        \item In an undirected graph, $v_1$ is \textbf{adjacent} to $v_2$ iff $(v_1, v_2) \in E$
        \item A \textbf{loop} is an edge of the form $(v, v)$.
        Note that simple graphs have no loops.
        \item Define $\deg^-(v) = \left| \Set{v' \in V}{(v', v) \in E} \right|$ to be the \textbf{indegree} of $v$, and $\deg^+(v) = \left| \Set{v' \in V}{(v, v') \in E} \right|$ to be the \textbf{outdegree} of $v$, in other words, the number of incoming and outcoming edges, respectively.
        If the graph is undirected, then $\deg^-(v) = \deg^+(v) = \deg(v)$ is called \textbf{degree}.
        \item For $G = (V, E)$ with $V = {1, 2, \dots, n}$, define $A = (a_{ij})$ to be the \textbf{adjacency matrix} of $G$ where
        \[ a_{ij} = \begin{cases}
                        1, & \textnormal{if}\ (i, j) \in E \\
                        0, & \textnormal{if}\ (i, j) \notin E
        \end{cases} \]
        for $1 \leq i, j \leq n$.

        Note that adjacency matrix of undirected graph is symmetric.
    \end{itemize}
\end{definition}

\begin{definition}[Connectedness]
    \begin{itemize}[leftmargin=*]
        \item $u, v$ are \textbf{connected nodes} is there exists a path between $u, v$ in $G$, i.e. if $(A^k)_{uv} = 1$ for some $k\in \mathbb{N}$.
        \item $G = (V, E)$ is \textbf{connected graph} if $\forall v_1, v_2 \in V. v_1, v_2$ are connected nodes.
        \item A subgraph $G' \subseteq G$ is a \textbf{(connected) component} iff $G'$ is a maximal connected subgraph of $G$.

        Note that all components of a graph are disjoint, therefore each node belongs to exactly one component.
    \end{itemize}
\end{definition}

\subsubsection{Networks}

Moving towards real-world data, graphs often emerge from a certain source in the world.
Just a few examples of the data possibly represented by graphs include social networks, road networks, computer networks, protein interaction networks, citation networks, web networks and so on.
In this work I distinguish graphs and networks, although I may sometimes interchange these two.

\begin{definition}[Network]
    A \textbf{network} is a graph whose nodes or edges can have attributes $\textnormal{attr}_v, \textnormal{attr}_e : \Sigma^* \rightarrow \mathbb{U}$ for some set of possible identifiers $\Sigma^*$ (such as a language over an alphabet $\Sigma$) and a value domain $\mathbb{U}$ (such as $\mathbb{R}$ or $\mathbb{R}^2$)
\end{definition}

Graphs and networks allow capturing the same structure, however, the main difference is that nodes of a network are \textit{identifiable}, while we rarely consider \textit{identity} of graph nodes.
%This is because nodes and edges of graphs coming from real-world are often (nearly) isomorphic to real-world objects and relations between them.
There may be either an exact or inexact matching between nodes/edges in the graph and objects/relations in the real world where the data came from (depending on whether the dataset is an approximation of the world).
I will often use networks when describing knowledge of the world.

\begin{definition}[Graph matching]
    Given two graphs $G = (V, E)$ and $G' = (V', E')$ derived from the same network, define \textbf{graph matching}, $M$, to be a bijection $V \leftrightarrow V'$ such that $(v, v') \in M$ iff $v, v'$ correspond to, or come from the same node in the network.
\end{definition}

For measuring metric robustness it will be beneficial to know matching between multiple graphs coming from the same dataset, or in other words to preserve identity of nodes across such graphs.

\subsection{Ranking}

\begin{definition}[Preorder]

\end{definition}

\begin{definition}[Total preorder]

\end{definition}

\subsection{Graph metrics}

Metrics are essentially functions of graphs that assign a value to each node.
Metrics allow quantifying various properties of graphs, identifying important nodes in different contexts, describing graph structures, comparing different graphs and more.
I study graph metrics as they are prominent and becoming even more crucial in analysing graphs of ever-growing real-world data.
With the increasing scale of emerging network datasets, it is becoming less possible to comprehend network structures just by visualisations.
Hence metrics are used to quantify properties of networks or their nodes.

In this chapter I describe the metrics that seem to be most significant for analysing protein interaction networks, and other graphs used in this project. The set of these metrics and their specific definition is based on The Paper\cite{Bozhilova2019}.

\subsubsection{Degree centrality}

One of the simplest metrics, degree centrality, calculates the degree of each node.

\begin{definition}
    For a graph $G = (V, E)$, define \textbf{degree centrality} $DC : V \rightarrow \mathbb{N}$ to be
    \[ DC(v) \eqdef \deg(v) = \left| \Set{v' \in V}{(v', v) \in E} \right| \]
\end{definition}

\subsubsection{Closeness centrality}

Closeness centrality of a node $v$ is the reciprocal value of the sum of $d(v, i)$, the distances from that node to all other nodes $i$ in the graph.

\[CC(v) = \frac{1}{\sum_{i \neq v} d(v, i)}\]

This is well defined for connected graphs, however, $d(v, i)$ is undefined if $v, i$ belong to two different components of the graph. For disconnected graphs, I set $d(v, i) = |V|$ to follow the approach in~\cite{Bozhilova2019}.

Closeness centrality measures, for each node, its reciprocal of the \textsl{farness} of the node to other nodes. Nodes with higher closeness centrality are \textsl{closer} to all other nodes.

A common alternative for disconnected graphs is to compute Harmonic centrality.

\subsubsection{Harmonic centrality}

Has similar meaning to closeness centrality, and a similar definition.

\[HC(v) = \sum_{i \neq v} \frac{1}{d(v, i)}\]
with $1 / d(v, i) = 0$ for disconnected nodes $v, i$.

\subsubsection{Eigenvector centrality}

\subsubsection{Katz centrality}
- not used much recently

\subsubsection{PageRank}
= Katz centrality, but divide each vertex's contribution by its out-degree

\subsubsection{Hyperlink-induced topic search (HITS)}
Hubs and authorities, by Kleinberg

% from GraphStream

\subsubsection{CommunityMeasure}
- Modularity\\
- Community Distribution\\
- CommunityRelativeMeasure $\rightarrow$ NormalizedMutualInformation $\rightarrow$ VariationOfInformation

\subsubsection{Eccentricity}

\subsubsection{Surprise measure}

\subsubsection{Degree measure}

\subsection{Robustness (The Paper)}

\subsection{Datasets}

Although the framework built is universal and is not bound to any datasets, I chose a number of datasets for evaluation.

\subsubsection{Stanford Large Network Dataset Collection}

The \textit{Stanford Large Network Dataset Collection}\cite{Large2016} provides open datasets obtained from real-world data such as social networks, citation networks, web graphs, internet networks, road networks and many more.

\subsubsection{STRING database}

\textit{STRING}\cite{Szklarczyk2019} is an open database of interactions between proteins.
At the time of writing, the database contains over 24M different proteins from over 5K organisms.

Considering the whole graph as an input for this project would be unsuitable because of its size, but for the evaluation, sub-graphs of proteins of only certain organisms will be used.

Note that, generally, one cannot just consider a sub-graph of a source graph (such as sub-graph of a social network), because the generated sub-graph doesn't have a semantic meaning, and its characteristic heavily depend on how the graph was generated (for example, $n$ friends of one person would result in a more connected graph than $n$ random people in the world).
However, sub-graphs of the STRING database built from proteins of concrete organism can be used, because such graphs alone have a semantic meaning.

\subsubsection{KONECT}

KONECT - The koblenz network collection\cite{Kunegis2013}

\subsubsection{Generating graphs}

Possible algorithms to use: \url{https://jgrapht.org/javadoc/org/jgrapht/generate/package-summary.html}


